<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Juego de Memoria Básico</title>
<style>
  body {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
    background-color: #f0f0f0;
  }
  .juego-de-memoria {
    display: grid;
    grid-template-columns: repeat(3, 100px);
    grid-template-rows: repeat(3, 100px);
    gap: 10px;
  }
  .carta {
    width: 100px;
    height: 100px;
    background-color: #64b5f6;
    color: white;
    font-size: 24px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    border-radius: 5px;
  }
  .oculta {
    background-color: #64b5f6;
    color: #64b5f6;
  }
  .correcta {
    background-color: #4caf50;
  }
  #temporizador {
    margin-top: 20px;
    font-size: 20px;
  }
</style>
</head>
<body>
<div class="juego-de-memoria" id="juego">
  <!-- Las cartas se insertarán aquí mediante JavaScript -->
</div>
<div id="temporizador">Tiempo restante: 30</div>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const cartasArray = [1, 1, 2, 2, 3, 3, 4, 4, ];
    const juego = document.getElementById('juego');
    let cartasVolteadas = [];
    let cartasEncontradas = 0;
    let temporizador;
    let segundosRestantes = 30;

    // Función para mezclar las cartas
    const mezclarCartas = (array) => {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    };

    // Inicializar el juego
    const iniciarJuego = () => {
      mezclarCartas(cartasArray);
      cartasArray.forEach(numero => {
        const carta = document.createElement('div');
        carta.classList.add('carta', 'oculta');
        carta.textContent = numero;
        carta.addEventListener('click', voltearCarta);
        juego.appendChild(carta);
      });
    };

    // Función para voltear las cartas
    const voltearCarta = (evento) => {
      if (cartasVolteadas.length < 2 && !evento.target.classList.contains('correcta')) {
        evento.target.classList.remove('oculta');
        cartasVolteadas.push(evento.target);

        if (cartasVolteadas.length === 2) {
          setTimeout(verificarPareja, 500);
        }
      }
    };

    // Función para verificar si las cartas coinciden
    const verificarPareja = () => {
      const [carta1, carta2] = cartasVolteadas;
      if (carta1.textContent === carta2.textContent) {
        carta1.classList.add('correcta');
        carta2.classList.add('correcta');
        cartasEncontradas += 2;
        if (cartasEncontradas === cartasArray.length) {
          clearInterval(temporizador);
          alert('¡Felicidades! Has completado el juego.');
        }
      } else {
        carta1.classList.add('oculta');
        carta2.classList.add('oculta');
      }
      cartasVolteadas = [];
    };

    // Función para manejar el temporizador
    const iniciarTemporizador = () => {
      temporizador = setInterval(() => {
        segundosRestantes--;
        document.getElementById('temporizador').textContent = `Tiempo restante: ${segundosRestantes}`;
        if (segundosRestantes === 0) {
          clearInterval(temporizador);
          document.querySelectorAll('.carta').forEach(carta => carta.removeEventListener('click', voltearCarta));
          alert('Se acabó el tiempo. ¡Inténtalo de nuevo!');
        }
      }, 1000);
    };

    iniciarJuego();
    iniciarTemporizador();
  });
</script>
</body>
</html>
